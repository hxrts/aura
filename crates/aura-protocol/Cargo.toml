# Protocol coordination - manages distributed protocols (DKD, Resharing, Locking, Recovery)
[package]
name = "aura-protocol"
version.workspace = true
edition.workspace = true
rust-version.workspace = true
authors.workspace = true
license.workspace = true

[lints]
workspace = true

[features]
default = []
testing = []

[dependencies]
# Workspace crates
aura-core = { path = "../aura-core" }
aura-effects = { path = "../aura-effects" }
aura-journal = { path = "../aura-journal" }
aura-verify = { path = "../aura-verify" }
aura-wot = { path = "../aura-wot" }
aura-transport = { path = "../aura-transport" }
aura-mpst = { path = "../aura-mpst" }
aura-macros = { path = "../aura-macros" }
# aura-frost = { path = "../aura-frost" }  # Temporarily excluded - has FROST API issues

# Curve operations
curve25519-dalek = { workspace = true }
ed25519-dalek = { workspace = true }

# FROST threshold signatures
frost-ed25519 = { workspace = true }
sha2 = { workspace = true }

# Cryptography provided through aura-core
blake3 = { workspace = true }
hmac = { workspace = true }
hkdf = { workspace = true }
aes-gcm = { workspace = true }
getrandom = { workspace = true }

# Serialization
serde = { workspace = true }
serde_json = { workspace = true }
serde_cbor = { workspace = true }
# serde_bytes = { workspace = true } # removed - unused
bincode = { workspace = true }

# Async
tokio = { workspace = true }
tokio-stream = { workspace = true }
futures = { workspace = true }
async-trait = { workspace = true }

# Utilities
uuid = { workspace = true }
thiserror = { workspace = true }
anyhow = { workspace = true }
tracing = { workspace = true }
rand = { workspace = true }
subtle = { workspace = true }
zeroize = { workspace = true }
hex = { workspace = true }
chrono = { workspace = true }
once_cell = { workspace = true }
dirs = { workspace = true }

# Choreographic programming dependencies
rumpsteak-aura = { workspace = true }
rumpsteak-aura-choreography = { workspace = true }


[dev-dependencies]
# tokio-test = { workspace = true } # removed - unused
proptest = { workspace = true }
criterion = { version = "0.5", features = ["async_tokio", "html_reports"] }

[[bench]]
name = "effect_system"
harness = false

[[bench]]
name = "context_propagation"
harness = false

[[bench]]
name = "handler_performance"
harness = false
