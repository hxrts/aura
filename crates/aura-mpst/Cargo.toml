[package]
name = "aura-mpst"
version.workspace = true
edition.workspace = true
rust-version.workspace = true
authors.workspace = true
license.workspace = true
description = "Multi-party session type extensions for Aura"

[lints]
workspace = true

[dependencies]
# Re-export all rumpsteak-aura functionality
rumpsteak-aura = { workspace = true }
rumpsteak-aura-choreography = { workspace = true }

# Note: aura-macros generates code that uses aura-mpst types, 
# but aura-mpst does not depend on aura-macros to avoid circular dependency

# Core Aura dependencies
aura-core = { path = "../aura-core" }

# Dependencies needed for extension system
proc-macro2 = { workspace = true }
quote = { workspace = true }
syn = { workspace = true }

# Serialization
serde = { workspace = true }
serde_json = { workspace = true }

# Error handling
thiserror = { workspace = true }

# Async support (runtime dependencies removed for Layer 2 compliance)
async-trait = { workspace = true }
futures = { workspace = true }
futures-timer = "3.0"
# tokio = { workspace = true } # Removed - violates Layer 2 runtime abstraction

# Identifiers and time (unified time system via aura-core)
uuid = { workspace = true }

# Cryptographic and utility dependencies
hex = { workspace = true }

# Logging
tracing = { workspace = true }

[dev-dependencies]
# Temporarily removed due to build issues in dependencies
# aura-testkit = { path = "../aura-testkit" }
# aura-protocol = { path = "../aura-protocol" }
aura-macros = { path = "../aura-macros" }
tokio = { workspace = true }
futures = { workspace = true }

[features]
default = []
# Enable debugging features for choreography analysis
debug = []
